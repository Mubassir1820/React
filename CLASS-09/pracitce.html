<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   <h1 style="padding: 10px; text-align: center;">Posts</h1>
   <div style="padding: 10px;" id="posts-container">

   </div>
   <div style="display: none;" id="data-container">Loading........</div>
   
   <script>
    function fetchPosts() {
        
        const dataContainer = document.getElementById("data-container")
        dataContainer.style.display = 'block';
        
        fetch("https://jsonplaceholder.typicode.com/posts")
        .then(response => response.json())
        .then(posts => {
            // console.log(posts);
            const container = document.getElementById("posts-container");
            posts.forEach(post => {
                // console.log(post);
                const postElement = document.createElement("div");
                postElement.innerHTML = `<h3> ${post?.title}</h3><p>${post.body}</p>`
                container.append(postElement);
            })
            dataContainer.style.display = "none";
        })
        .catch(error => {
            console.error("Error fetching posts", error);
            const container = document.getElementById("posts-container");
            container.innerHTML = `<p>Error Loading posts, Please try again</p>`
            dataContainer.style.display = "none";
        })
    }
    fetchPosts();
   
    //POSTS


    // const newPost = {
    //     title: "My new post",
    //     body: "This is the content of my new post",
    //     userId: 1
    // }
    
    // function createPost(postData) {
    //     fetch('https://jsonplaceholder.typicode.com/posts', {
    //         method: "POST",
    //         headers: {
    //             "Content-Type":"application/json",
    //         },
    //         body: JSON.stringify(postData),
    //     })
    //     .then(response => response.json())
    //     .then(data => console.log("Post Created", data))
    //     .catch(error => console.error("Error creating post", error))
    // }
    // createPost(newPost);

    // // Get
    
    // function fetchPosts(postData) {
    //     fetch('https://jsonplaceholder.typicode.com/posts')
    //     .then(response => response.json())
    //     .then(data => console.log("Post Fethched", data))
    //     .catch(error => console.error("Error fetching post", error))
    // }



    // //  Put or Update
    
    // function updatePost(postId, updatedData) {
    //     fetch(`https://jsonplaceholder.typicode.com/posts/${postId}`, {
    //         method: "PUT",
    //         headers: {
    //             "Content-Type": "application/json"
    //         },
    //         body: JSON.stringify(updatedData)
    //     })
    // }

    // const updatedPost = {
    //     title: "Updated post title",
    //     body: "This is the updated content",
    //     userId: 1,
    // };

    // updatePost(1, updatedPost)



    // // Delete

    // function deletePost(postId) {
    //     fetch(`https://jsonplaceholder.typicode.com/posts/${postId}`, {
    //         method: "DELETE"
    //     })
    //     .then(response => {
    //         if(response.ok){
    //             console.log(`Post ${postId} deleted successfully`)
    //         }else {
    //             console.error("Cant Delete")
    //         }
    //     }).catch(error => {
    //         console.error("Error deleting post")
    //     })
    // }
    // deletePost(1)


   </script>
   
    <!-- <script src="/practice.js"></script>  -->
</body>
</html>